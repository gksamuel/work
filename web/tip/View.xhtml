<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template.xhtml">
        <ui:define name="title">
            <h:outputText value="#{bundle.ViewTipTitle}"></h:outputText>
        </ui:define>
        <ui:define name="body">
            <p:messages id="messages" autoUpdate="true" closable="true" />  

            <p:panelGrid columns="2">
                <f:facet name="header">  
                    <h:outputText value="#{bundle.UserSubmittedTips}"></h:outputText>
                </f:facet> 

                <h:outputText value="#{bundle.ViewTipLabel_submittedby}"/>
                <h:outputText value="#{tipController.random.submittedby}" title="#{bundle.ViewTipTitle_submittedby}"/>
                <h:outputText value="#{bundle.ViewTipLabel_tip}"/>
                <h:outputText value="#{tipController.random.tip}" title="#{bundle.ViewTipTitle_tip}"/>
                <h:outputText value="#{bundle.ViewTipLabel_rate}"/>
                <p:panel style="width:197px;height:45px;background:url(#{bundle.staticUrl}img/stars.jpg) 0 -208px; padding: 0px; margin: 0px; border: 0px;"  rendered="#{tipController.random.rate == 0}"/>
                <p:panel style="width:197px; height:45px; background:url(#{bundle.staticUrl}img/stars.jpg) 0 -173px; padding: 0px; margin: 0px; border: 0px;"  rendered="#{tipController.random.rate == 1}"/>
                <p:panel style="width:197px; height:45px; background:url(#{bundle.staticUrl}img/stars.jpg) 0 -128px; padding: 0px; margin: 0px; border: 0px;"  rendered="#{tipController.random.rate == 2}"/>
                <p:panel style="width:197px; height:45px; background:url(#{bundle.staticUrl}img/stars.jpg) 0 -83px; padding: 0px; margin: 0px; border: 0px;"  rendered="#{tipController.random.rate == 3}"/>
                <p:panel style="width:197px; height:45px; background:url(#{bundle.staticUrl}img/stars.jpg) 0 -38px; padding: 0px; margin: 0px; border: 0px;"  rendered="#{tipController.random.rate == 4}"/>
                <p:panel style="width:197px; height:45px; background:url(#{bundle.staticUrl}img/stars.jpg) 0 0px; padding: 0px; margin: 0px; border: 0px;"  rendered="#{tipController.random.rate == 5}"/>

                
                <h:outputText value="#{bundle.ViewTipLabel_datesubmited}"/>
                <h:outputText value="#{tipController.random.datesubmited}" title="#{bundle.ViewTipTitle_datesubmited}">
                    <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                </h:outputText>
            </p:panelGrid>
            <br />
            <h:outputText value="#{bundle.rateThisTip}"/><br/>
            <h:panelGrid columns="5" style="width:200px;border: 0px solid">
                <h:form>
                    <p:commandButton action="#{tipController.rate1}" value="1" ajax="false"/>
                </h:form>

                <h:form>
                    <p:commandButton action="#{tipController.rate2}" value="2" ajax="false"/>
                </h:form>

                <h:form>
                    <p:commandButton action="#{tipController.rate3}" value="3" ajax="false"/>
                </h:form>

                <h:form>
                    <p:commandButton action="#{tipController.rate4}" value="4" ajax="false"/>
                </h:form>

                <h:form>
                    <p:commandButton action="#{tipController.rate5}" value="5" ajax="false"/>
                </h:form>
            </h:panelGrid>
            <h:panelGrid columns="1">
                <h:form >
                    <p:commandButton action="#{tipController.generateRandom}" value="#{bundle.GetNextTip}" ajax="false"/>
                </h:form>
            </h:panelGrid>
            <br />



            <h:form>
                <p:panelGrid columns="2">
                    <f:facet name="header">  
                        <h:outputText value="#{bundle.CreateTipTitle}"></h:outputText>
                    </f:facet> 
                    <p:outputLabel value="#{bundle.CreateTipLabel_tip}" for="tip" />
                    <p:inputText id="tip" value="#{tipController.selected.tip}" title="#{bundle.CreateTipTitle_tip}" required="true" requiredMessage="#{bundle.CreateTipRequiredMessage_tip}"/>
                </p:panelGrid>
                <br />
                <p:commandButton action="#{tipController.create}" value="#{bundle.CreateTipSaveLink}"  ajax="false"/>

            </h:form>



        </ui:define>
    </ui:composition>
</html>
