<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template.xhtml">
        <ui:param name="activeIndex" value="2" />
        <ui:define name="title">
            <h:outputText value="#{bundle.EditCompanyTitle}"></h:outputText>
        </ui:define>
        <ui:define name="body">
            <p:messages id="messages" autoUpdate="true" closable="true" />  
            <h:form>

                <p:commandButton action="#{companyController.update}" value="#{bundle.EditCompanySaveLink}" ajax="false"/>
                <h:outputText value="&nbsp;&nbsp;"/>

                <p:commandButton action="View" value="#{bundle.EditCompanyViewLink}" ajax="false"/>
                <h:outputText value="&nbsp;&nbsp;"/>

                <p:panelGrid columns="2">
                    <f:facet name="header">  
                        <h:outputText value="#{bundle.EditCompanyTitle}"></h:outputText>
                    </f:facet> 

                    <p:outputLabel value="#{bundle.EditCompanyLabel_logo}" for="logo" />
                    <h:outputText value="&nbsp;"  rendered="#{companyController.companyRecord.logo == null}"/>
                    <h:graphicImage id="logo" url="#{bundle.externalUrl}img/#{companyController.companyRecord.logo}" rendered="#{companyController.companyRecord.logo != null}"/>
                    <p:outputLabel value="#{bundle.EditCompanyLabel_datemodified}" for="datemodified" />
                    <h:outputText id="datemodified" value="#{companyController.selected.datemodified}" title="#{bundle.EditCompanyTitle_datemodified}">
                        <f:convertDateTime dateStyle="full" type="both" timeZone="Africa/Nairobi" />
                    </h:outputText>
                    <p:outputLabel value="#{bundle.EditCompanyLabel_statusid}" for="statusid" />
                    <h:outputText id="statusid" value="#{companyController.selected.statusid.description}" title="#{bundle.EditCompanyTitle_statusid}" />
                    <p:outputLabel value="#{bundle.EditCompanyLabel_expiry}" for="expiry" />
                    <h:outputText id="expiry" value="#{companyController.selected.expiry}" title="#{bundle.EditCompanyTitle_expiry}" >
                        <f:convertDateTime dateStyle="full" type="both" timeZone="Africa/Nairobi" />
                    </h:outputText>
                    <p:outputLabel value="#{bundle.EditCompanyLabel_name}" for="name" />
                    <p:inputText id="name" value="#{companyController.selected.name}" title="#{bundle.EditCompanyTitle_name}"  required="true" requiredMessage="#{bundle.PleaseEnterCompanyName}" />
                    <p:outputLabel value="#{bundle.EditCompanyLabel_email}" for="email" />
                    <p:inputText id="email" value="#{companyController.selected.email}" title="#{bundle.EditCompanyTitle_email}"   required="true" requiredMessage="#{bundle.PleaseEnterCompanyEmail}" />
                    <p:outputLabel value="#{bundle.EditCompanyLabel_mobile}" for="mobile" />
                    <p:inputText id="mobile" value="#{companyController.selected.mobile}" title="#{bundle.EditCompanyTitle_mobile}"   required="true" requiredMessage="#{bundle.PleaseEnterCompanyMobile}" />
                    <p:outputLabel value="#{bundle.EditCompanyLabel_phone}" for="phone" />
                    <p:inputText id="phone" value="#{companyController.selected.phone}" title="#{bundle.EditCompanyTitle_phone}" />
                    <p:outputLabel value="#{bundle.EditCompanyLabel_website}" for="website" />
                    <p:inputText id="website" value="#{companyController.selected.website}" title="#{bundle.EditCompanyTitle_website}" />
                    <p:outputLabel value="#{bundle.EditCompanyLabel_address}" for="address" />
                    <p:inputText id="address" value="#{companyController.selected.address}" title="#{bundle.EditCompanyTitle_address}" />
                    <p:outputLabel value="#{bundle.EditCompanyLabel_location}" for="location" />
                    <p:inputText id="location" value="#{companyController.selected.location}" title="#{bundle.EditCompanyTitle_location}" />
                    <p:outputLabel value="#{bundle.EditCompanyLabel_contactperson}" for="contactperson" />
                    <p:inputText id="contactperson" value="#{companyController.selected.contactperson}" title="#{bundle.EditCompanyTitle_contactperson}" />
                    <p:outputLabel value="#{bundle.EditCompanyLabel_contactmobile}" for="contactmobile" />
                    <p:inputText id="contactmobile" value="#{companyController.selected.contactmobile}" title="#{bundle.EditCompanyTitle_contactmobile}" />
                    <p:outputLabel value="#{bundle.EditCompanyLabel_contactemail}" for="contactemail" />
                    <p:inputText id="contactemail" value="#{companyController.selected.contactemail}" title="#{bundle.EditCompanyTitle_contactemail}" />
                    <p:outputLabel value="#{bundle.EditCompanyLabel_description}" for="description" />
                    <p:editor id="description" value="#{companyController.selected.description}"  width="440" height="140"/> 
                    <p:outputLabel value="#{bundle.EditCompanyLabel_applicationemail}" for="applicationemail" />
                    <p:inputText id="applicationemail" value="#{companyController.selected.applicationemail}" title="#{bundle.EditCompanyTitle_applicationemail}" />
                </p:panelGrid>

            </h:form>
        </ui:define>
    </ui:composition>

</html>
