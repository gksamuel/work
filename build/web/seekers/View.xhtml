<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template.xhtml">
        <ui:param name="activeIndex" value="5" />
        <ui:define name="title">
            <h:outputText value="#{bundle.ViewSeekersTitle}"></h:outputText>
        </ui:define>
        <ui:define name="body">
            <p:messages id="messages"  autoUpdate="true" closable="true" />  
            <h:form id="form1">
                <h:graphicImage url="#{bundle.externalUrl}img/#{seekersController.seekerRecord.photo}" rendered="#{seekersController.seekerRecord.photo != null}"/>
                <h:graphicImage url="#{bundle.externalUrl}img/default-photo.png" rendered="#{seekersController.seekerRecord.photo == null}"/>

                <p:tabView id="tabView">  
                    <p:tab id="tab1" title="#{bundle.MyProfile}"> 
                        <p:panelGrid columns="2">
                            <f:facet name="header">  
                                <h:outputText value="#{bundle.ViewSeekersTitle}"></h:outputText>
                            </f:facet>
                            <h:outputText value="#{bundle.ViewSeekersLabel_username}"/>
                            <h:outputText value="#{seekersController.selected.username}" title="#{bundle.ViewSeekersTitle_username}"/>

                            <h:outputText value="#{bundle.ViewSeekersLabel_expiry}"/>
                            <h:outputText value="#{seekersController.selected.expiry}" title="#{bundle.ViewSeekersTitle_expiry}">
                                <f:convertDateTime dateStyle="full" type="both" timeZone="Africa/Nairobi" />
                            </h:outputText>
                            <h:outputText value="#{bundle.ViewSeekersLabel_email}"/>
                            <h:outputText value="#{seekersController.selected.email}" title="#{bundle.ViewSeekersTitle_email}"/>
                            <h:outputText value="#{bundle.ViewSeekersLabel_mobile}"/>
                            <h:outputText value="#{seekersController.selected.mobile}" title="#{bundle.ViewSeekersTitle_mobile}"/>
                            <h:outputText value="#{bundle.ViewSeekersLabel_othernumber}"/>
                            <h:outputText value="#{seekersController.selected.othernumber}" title="#{bundle.ViewSeekersTitle_othernumber}"/>
                            <h:outputText value="#{bundle.ViewSeekersLabel_firstname}"/>
                            <h:outputText value="#{seekersController.selected.firstname}" title="#{bundle.ViewSeekersTitle_firstname}"/>
                            <h:outputText value="#{bundle.ViewSeekersLabel_lastname}"/>
                            <h:outputText value="#{seekersController.selected.lastname}" title="#{bundle.ViewSeekersTitle_lastname}"/>
                            <h:outputText value="#{bundle.ViewSeekersLabel_middlename}"/>
                            <h:outputText value="#{seekersController.selected.middlename}" title="#{bundle.ViewSeekersTitle_middlename}"/>
                            <h:outputText value="#{bundle.ViewSeekersLabel_address}"/>
                            <h:outputText value="#{seekersController.selected.address}" title="#{bundle.ViewSeekersTitle_address}"/>
                            <h:outputText value="#{bundle.ViewSeekersLabel_dateofbirth}"/>
                            <h:outputText value="#{seekersController.selected.dateofbirth}" title="#{bundle.ViewSeekersTitle_dateofbirth}">
                                <f:convertDateTime timeZone="Africa/Nairobi" />
                            </h:outputText>
                            <h:outputText value="#{bundle.ViewSeekersLabel_gender}"/>

                            <h:outputText value="&nbsp;" rendered="#{seekersController.selected.gender == null}"/>
                            <h:outputText value="#{bundle.GenderMale}&nbsp;" rendered="#{seekersController.selected.gender == true}"/>
                            <h:outputText value="#{bundle.GenderFemale}&nbsp;" rendered="#{seekersController.selected.gender == false}"/>


                            <h:outputText value="#{bundle.ViewSeekersLabel_website}"/>
                            <h:outputText value="#{seekersController.selected.website}" title="#{bundle.ViewSeekersTitle_website}"/>
                            <h:outputText value="#{bundle.ViewSeekersLabel_maritalstatus}"/>
                            <h:outputText value="#{seekersController.selected.maritalstatus}" title="#{bundle.ViewSeekersTitle_maritalstatus}"/>
                            <h:outputText value="#{bundle.ViewSeekersLabel_idnumber}"/>
                            <h:outputText value="#{seekersController.selected.idnumber}" title="#{bundle.ViewSeekersTitle_idnumber}"/>
                            <h:outputText value="#{bundle.ViewSeekersLabel_pinnumber}"/>
                            <h:outputText value="#{seekersController.selected.pinnumber}" title="#{bundle.ViewSeekersTitle_pinnumber}"/>
                            <h:outputText value="#{bundle.ViewSeekersLabel_passport}"/>
                            <h:outputText value="#{seekersController.selected.passport}" title="#{bundle.ViewSeekersTitle_passport}"/>
                            <h:outputText value="#{bundle.ViewSeekersLabel_driverslicence}"/>
                            <h:outputText value="#{seekersController.selected.driverslicence}" title="#{bundle.ViewSeekersTitle_driverslicence}"/>
                            <h:outputText value="#{bundle.ViewSeekersLabel_statusid}"/>
                            <h:outputText value="#{seekersController.selected.statusid.description}" title="#{bundle.ViewSeekersTitle_statusid}"/>
                            <h:outputText value="#{bundle.ViewSeekersLabel_salaryid}"/>
                            <h:outputText value="#{seekersController.selected.salaryid.salaryrange}" title="#{bundle.ViewSeekersTitle_salaryid}"/>
                        </p:panelGrid>
                        <br />
                        <p:commandButton action="Edit" value="#{bundle.ViewSeekersEditLink}" ajax="false"/>


                    </p:tab>



                    <p:tab id="tab2" title="#{bundle.ListWorkTitle}"> 
                        <p:dataTable id="worktable" value="#{seekersController.selected.workCollection}" var="item">
                            <f:facet name="header">  
                                <h:outputText value="#{bundle.ListWorkTitle}"></h:outputText>
                            </f:facet> 
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.ListWorkTitle_company}"/>
                                </f:facet>
                                <h:outputText value="#{item.company}" />
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.ListWorkTitle_startdate}"/>
                                </f:facet>
                                <h:outputText value="#{item.startdate}">
                                    <f:convertDateTime timeZone="Africa/Nairobi"/>
                                </h:outputText>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.ListWorkTitle_enddate}"/>
                                </f:facet>
                                <h:outputText value="#{item.enddate}">
                                    <f:convertDateTime pattern="dd/MM/yyyy" />
                                </h:outputText>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="&nbsp;"/>
                                </f:facet>
                                <p:commandLink update=":form1:tabView:workDisplay" actionListener="#{workController.setEmploymentRecord(item)}" value="#{bundle.ListWorkViewLink}" />
                            </p:column>
                        </p:dataTable>


                        <p:panel  id="workDisplay"  style="margin-top:10px; border: 0px;">  
                            <p:panelGrid columns="2" rendered="#{workController.employmentRecord != null}">
                                <f:facet name="header">  
                                    <h:outputText value="#{bundle.ViewWorkDetailsTitle}"></h:outputText>
                                </f:facet> 
                                <h:outputText value="#{bundle.ViewWorkLabel_startdate}"/>
                                <h:outputText value="#{workController.employmentRecord.startdate}" title="#{bundle.ViewWorkTitle_startdate}">
                                    <f:convertDateTime pattern="MM/dd/yyyy" />
                                </h:outputText>
                                <h:outputText value="#{bundle.ViewWorkLabel_enddate}"/>
                                <h:outputText value="#{workController.employmentRecord.enddate}" title="#{bundle.ViewWorkTitle_enddate}">
                                    <f:convertDateTime pattern="MM/dd/yyyy" />
                                </h:outputText>
                                <h:outputText value="#{bundle.ViewWorkLabel_company}"/>
                                <h:outputText value="#{workController.employmentRecord.company}" title="#{bundle.ViewWorkTitle_company}"/>
                                <h:outputText value="#{bundle.ViewWorkLabel_website}"/>
                                <h:outputText value="#{workController.employmentRecord.website}" title="#{bundle.ViewWorkTitle_website}"/>
                                <h:outputText value="#{bundle.ViewWorkLabel_address}"/>
                                <h:outputText value="#{workController.employmentRecord.address}" title="#{bundle.ViewWorkTitle_address}"/>
                                <h:outputText value="#{bundle.ViewWorkLabel_companyphone}"/>
                                <h:outputText value="#{workController.employmentRecord.companyphone}" title="#{bundle.ViewWorkTitle_companyphone}"/>
                                <h:outputText value="#{bundle.ViewWorkLabel_location}"/>
                                <h:outputText value="#{workController.employmentRecord.location}" title="#{bundle.ViewWorkTitle_location}"/>
                                <h:outputText value="#{bundle.ViewWorkLabel_position}"/>
                                <h:outputText value="#{workController.employmentRecord.position}" title="#{bundle.ViewWorkTitle_position}"/>
                                <h:outputText value="#{bundle.ViewWorkLabel_jobdescription}"/>
                                <h:outputText value="#{workController.employmentRecord.jobdescription}" title="#{bundle.ViewWorkTitle_jobdescription}"/>
                                <h:outputText value="#{bundle.ViewWorkLabel_refereename}"/>
                                <h:outputText value="#{workController.employmentRecord.refereename}" title="#{bundle.ViewWorkTitle_refereename}"/>
                                <h:outputText value="#{bundle.ViewWorkLabel_refereeemail}"/>
                                <h:outputText value="#{workController.employmentRecord.refereeemail}" title="#{bundle.ViewWorkTitle_refereeemail}"/>
                                <h:outputText value="#{bundle.ViewWorkLabel_refereemobile}"/>
                                <h:outputText value="#{workController.employmentRecord.refereemobile}" title="#{bundle.ViewWorkTitle_refereemobile}"/>
                            </p:panelGrid>
                        </p:panel>  



                    </p:tab>




                    <p:tab id="tab3" title="#{bundle.ListEducationTitle}"> 
                        <p:dataTable value="#{seekersController.selected.educationCollection}" var="item" >
                            <f:facet name="header">  
                                <h:outputText value="#{bundle.ListEducationTitle}"></h:outputText>
                            </f:facet> 
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.ListEducationTitle_institution}"/>
                                </f:facet>
                                <h:outputText value="#{item.institution}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.ListEducationTitle_startdate}"/>
                                </f:facet>
                                <h:outputText value="#{item.startdate}">
                                    <f:convertDateTime pattern="dd/MM/yyyy" />
                                </h:outputText>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.ListEducationTitle_enddate}"/>
                                </f:facet>
                                <h:outputText value="#{item.enddate}">
                                    <f:convertDateTime pattern="dd/MM/yyyy" />
                                </h:outputText>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="&nbsp;"/>
                                </f:facet>
                                <p:commandLink update=":form1:tabView:schoolDisplay" actionListener="#{educationController.setEducationRecord(item)}" value="#{bundle.ListWorkViewLink}" />
                            </p:column>
                        </p:dataTable>

                        <p:panel  id="schoolDisplay"  style="margin-top:10px; border: 0px;">  
                            <p:panelGrid columns="2" rendered="#{educationController.educationRecord != null}">
                                <f:facet name="header">  
                                    <h:outputText value="#{bundle.ViewEducationDetailsTitle}"></h:outputText>
                                </f:facet> 
                                <h:outputText value="#{bundle.ViewEducationLabel_startdate}"/>
                                <h:outputText value="#{educationController.educationRecord.startdate}" title="#{bundle.ViewEducationTitle_startdate}">
                                    <f:convertDateTime pattern="MM/dd/yyyy" />
                                </h:outputText>
                                <h:outputText value="#{bundle.ViewEducationLabel_enddate}"/>
                                <h:outputText value="#{educationController.educationRecord.enddate}" title="#{bundle.ViewEducationTitle_enddate}">
                                    <f:convertDateTime pattern="MM/dd/yyyy" />
                                </h:outputText>
                                <h:outputText value="#{bundle.ViewEducationLabel_institution}"/>
                                <h:outputText value="#{educationController.educationRecord.institution}" title="#{bundle.ViewEducationTitle_institution}"/>
                                <h:outputText value="#{bundle.ViewEducationLabel_website}"/>
                                <h:outputText value="#{educationController.educationRecord.website}" title="#{bundle.ViewEducationTitle_website}"/>
                                <h:outputText value="#{bundle.ViewEducationLabel_location}"/>
                                <h:outputText value="#{educationController.educationRecord.location}" title="#{bundle.ViewEducationTitle_location}"/>
                                <h:outputText value="#{bundle.ViewEducationLabel_certification}"/>
                                <h:outputText value="#{educationController.educationRecord.certification}" title="#{bundle.ViewEducationTitle_certification}"/>
                                <h:outputText value="#{bundle.ViewEducationLabel_refereename}"/>
                                <h:outputText value="#{educationController.educationRecord.refereename}" title="#{bundle.ViewEducationTitle_refereename}"/>
                                <h:outputText value="#{bundle.ViewEducationLabel_address}"/>
                                <h:outputText value="#{educationController.educationRecord.address}" title="#{bundle.ViewEducationTitle_address}"/>
                                <h:outputText value="#{bundle.ViewEducationLabel_email}"/>
                                <h:outputText value="#{educationController.educationRecord.email}" title="#{bundle.ViewEducationTitle_email}"/>
                                <h:outputText value="#{bundle.ViewEducationLabel_mobileno}"/>
                                <h:outputText value="#{educationController.educationRecord.mobileno}" title="#{bundle.ViewEducationTitle_mobileno}"/>
                            </p:panelGrid>
                        </p:panel>  
                    </p:tab>



                    <p:tab id="tab4" title="#{bundle.ListFilesTitle}"> 
                        <p:dataTable value="#{seekersController.selected.filesCollection}" var="item">
                            <f:facet name="header">  
                                <h:outputText value="#{bundle.ListFilesTitle}"></h:outputText>
                            </f:facet>             
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.ListFilesTitle_description}"/>
                                </f:facet>
                                <h:outputText value="#{item.description}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.ListFilesTitle_filename}"/>
                                </f:facet>
                                <h:outputText value="#{item.filename}"/>
                            </p:column>
                        </p:dataTable>
                    </p:tab>


                    <p:tab id="tab5" title="#{bundle.ListPagesTitle}"> 

                        <p:dataTable value="#{seekersController.selected.pagesCollection}" var="item">
                            <f:facet name="header">  
                                <h:outputText value="#{bundle.ListPagesTitle}"></h:outputText>
                            </f:facet> 
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.ListPagesTitle_title}"/>
                                </f:facet>
                                <h:outputText value="#{item.title}"/>
                            </p:column>

                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.ListPagesTitle_datemodified}"/>
                                </f:facet>
                                <h:outputText value="#{item.datemodified}">
                                    <f:convertDateTime dateStyle="full" type="both" timeZone="Africa/Nairobi" />
                                </h:outputText>
                            </p:column>

                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="&nbsp;"/>
                                </f:facet>
                                <p:commandLink update=":form1:tabView:pageDisplay" actionListener="#{pagesController.setPageRecord(item)}" value="#{bundle.ListPagesViewLink}" />
                            </p:column>

                        </p:dataTable>







                        <p:panel  id="pageDisplay"  style="margin-top:10px; border: 0px;">  
                            <p:panelGrid columns="2" rendered="#{pagesController.pageRecord != null}">
                                <f:facet name="header">  
                                    <h:outputText value="#{bundle.ViewPagesDetailsTitle}"></h:outputText>
                                </f:facet> 
                                <h:outputText value="#{bundle.ViewPagesLabel_title}"/>
                                <h:outputText value="#{pagesController.pageRecord.title}" title="#{bundle.ViewPagesTitle_title}"/>
                                <h:outputText value="#{bundle.ViewPagesLabel_content}"/>
                                <h:outputText value="#{pagesController.pageRecord.content}" title="#{bundle.ViewPagesTitle_content}" escape="false"/>
                                <h:outputText value="#{bundle.ViewPagesLabel_datemodified}"/>
                                <h:outputText value="#{pagesController.pageRecord.datemodified}" title="#{bundle.ViewPagesTitle_datemodified}">
                                    <f:convertDateTime dateStyle="full" type="both" timeZone="Africa/Nairobi" />
                                </h:outputText>
                            </p:panelGrid>
                        </p:panel>   









                    </p:tab>
                </p:tabView>

            </h:form>
        </ui:define>
    </ui:composition>

</html>
